{"version":3,"sources":["../../src/controller/material-issue-request.js"],"names":["config","db","api","post","req","res","newMaterialIssueRequest","inventoryID","body","workOrder","requestor","save","err","send","json","message","get","find","materialIssueRequests"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAChC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,IAAJ,CAAS,MAAT,iCAAgC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5C,QAAIC,0BAA0B,oCAA9B;AACAA,4BAAwBC,WAAxB,GAAsCH,IAAII,IAAJ,CAASD,WAA/C;AACAD,4BAAwBG,SAAxB,GAAoCL,IAAII,IAAJ,CAASC,SAA7C;AACAH,4BAAwBI,SAAxB,GAAoCN,IAAII,IAAJ,CAASE,SAA7C;;AAEAJ,4BAAwBK,IAAxB,CAA6B,eAAO;AAClC,UAAIC,GAAJ,EAAS;AACPP,YAAIQ,IAAJ,CAASD,GAAT;AACD;AACDP,UAAIS,IAAJ,CAAS,EAAEC,SAAS,2CAAX,EAAT;AACD,KALD;AAMD,GAZD;;AAcA;AACAb,MAAIc,GAAJ,CAAQ,GAAR,iCAA4B,UAACZ,GAAD,EAAMC,GAAN,EAAc;AACxC,mCAAqBY,IAArB,CAA0B,EAA1B,EAA8B,UAACL,GAAD,EAAMM,qBAAN,EAAgC;AAC5D,UAAIN,GAAJ,EAAS;AACPP,YAAIQ,IAAJ,CAASD,GAAT;AACD;AACDP,UAAIS,IAAJ,CAASI,qBAAT;AACD,KALD;AAMD,GAPD;;AASA,SAAOhB,GAAP;AACD,C","file":"material-issue-request.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport MaterialIssueRequest from '../model/material-issue-request';\nimport { authentitcate } from '../middleware/auth-middleware';\n\nexport default({ config, db }) => {\n  let api = Router();\n\n  // 'v1/material-issue-request/add - Create\n  api.post('/add', authentitcate, (req, res) => {\n    let newMaterialIssueRequest = new MaterialIssueRequest();\n    newMaterialIssueRequest.inventoryID = req.body.inventoryID;\n    newMaterialIssueRequest.workOrder = req.body.workOrder;\n    newMaterialIssueRequest.requestor = req.body.requestor;\n\n    newMaterialIssueRequest.save(err => {\n      if (err) {\n        res.send(err);\n      }\n      res.json({ message: 'Material Issue Request saved successfully'});\n    });\n  });\n\n  // 'v1/material-issue-request - Read\n  api.get('/', authentitcate, (req, res) => {\n    MaterialIssueRequest.find({}, (err, materialIssueRequests) => {\n      if (err) {\n        res.send(err);\n      }\n      res.json(materialIssueRequests);\n    });\n  });\n\n  return api;\n}"]}