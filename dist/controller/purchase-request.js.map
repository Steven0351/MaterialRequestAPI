{"version":3,"sources":["../../src/controller/purchase-request.js"],"names":["config","db","api","post","req","res","newPurchaseRequest","inventoryID","body","quantity","shippingMethod","save","err","send","json","message","get","find","purchaseRequests"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;AACA;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAChC,MAAIC,MAAM,sBAAV;;AAEF;AACEA,MAAIC,IAAJ,CAAS,MAAT,gCAA+B,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3C,QAAIC,qBAAqB,+BAAzB;AACAA,uBAAmBC,WAAnB,GAAiCH,IAAII,IAAJ,CAASD,WAA1C;AACAD,uBAAmBG,QAAnB,GAA8BL,IAAII,IAAJ,CAASC,QAAvC;AACAH,uBAAmBI,cAAnB,GAAoCN,IAAII,IAAJ,CAASE,cAA7C;;AAEAJ,uBAAmBK,IAAnB,CAAwB,eAAO;AAC7B,UAAIC,GAAJ,EAAS;AACPP,YAAIQ,IAAJ,CAASD,GAAT;AACC;AACDP,UAAIS,IAAJ,CAAS,EAAEC,SAAS,qCAAX,EAAT;AACD,KALH;AAMC,GAZH;;AAcA;AACAb,MAAIc,GAAJ,CAAQ,GAAR,EAAa,UAACZ,GAAD,EAAMC,GAAN,EAAc;AACzB,8BAAgBY,IAAhB,CAAqB,EAArB,EAAwB,UAACL,GAAD,EAAMM,gBAAN,EAA2B;AACjD,UAAIN,GAAJ,EAAS;AACPP,YAAIQ,IAAJ,CAASD,GAAT;AACD;AACDP,UAAIS,IAAJ,CAASI,gBAAT;AACC,KALH;AAMC,GAPH;AASD,C","file":"purchase-request.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport PurchaseRequest from '../model/purchase-request';\nimport { authenitcate } from '../middleware/auth-middleware';\n\nexport default({ config, db }) => {\n  let api = Router();\n\n// '/v1/purchaserequest/add - Create\n  api.post('/add', authenitcate, (req, res) => {\n    let newPurchaseRequest = new PurchaseRequest();\n    newPurchaseRequest.inventoryID = req.body.inventoryID;\n    newPurchaseRequest.quantity = req.body.quantity;\n    newPurchaseRequest.shippingMethod = req.body.shippingMethod;\n\n    newPurchaseRequest.save(err => {\n      if (err) {\n        res.send(err);\n        }\n        res.json({ message: 'Purchase Request saved successfully'});\n      });\n    });\n\n  // 'v1/purchaserequest - Read\n  api.get('/', (req, res) => {\n    PurchaseRequest.find({},(err, purchaseRequests) => {\n      if (err) {\n        res.send(err);\n      }\n      res.json(purchaseRequests);\n      });\n    });\n\n}"]}